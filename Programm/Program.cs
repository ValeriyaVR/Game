using System;

namespace ProgramGame
{
    public class Program
    {
        public static void Main(string[] args)
        {
            char[,] map =
            {
                {'_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_'},
                {'|',' ',' ','$','|',' ',' ',' ',' ',' ',' ','|','$','|',' ',' ',' ',' ',' ',' ',' ',' ','$','|'},
                {'|',' ',' ',' ','|',' ',' ',' ',' ',' ',' ','|',' ','|',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'},
                {'|',' ',' ',' ','|',' ',' ',' ','|',' ',' ','|',' ','|',' ',' ','_','_','_',' ',' ',' ',' ','|'},
                {'|',' ',' ',' ','|',' ',' ',' ','|',' ',' ',' ',' ',' ',' ',' ',' ',' ','|',' ',' ',' ',' ','|'},
                {'|',' ','_','_','|',' ',' ',' ','|',' ',' ',' ',' ',' ',' ',' ',' ','$','|',' ',' ','|',' ','|'},
                {'|',' ',' ',' ','|','_','_','_','_','_','_','_','_','_','_','_','_','_','|',' ',' ','|',' ','|'},
                {'|',' ',' ',' ','|',' ',' ',' ',' ',' ',' ',' ',' ','$','|',' ','$',' ',' ',' ',' ','|',' ','|'},
                {'|',' ',' ',' ','|',' ',' ',' ',' ',' ',' ',' ',' ',' ','|',' ',' ',' ',' ',' ',' ','|',' ','|'},
                {'|',' ',' ',' ','|',' ',' ','_','_','_','_','_','_','_','|',' ',' ',' ',' ',' ',' ','|',' ','|'},
                {'|',' ',' ',' ','|',' ',' ',' ',' ',' ',' ',' ',' ',' ','|',' ',' ',' ',' ',' ',' ','|',' ','|'},
                {'|',' ',' ',' ','|',' ',' ',' ',' ',' ',' ',' ',' ',' ','|','_','_','_','_','_','_','_',' ','|'},
                {'|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|',' ',' ','$','|',' ',' ',' ',' ','|'},
                {'|',' ','|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|',' ','_','_','|',' ',' ',' ',' ','|'},
                {'|',' ','|',' ',' ',' ',' ','|',' ',' ',' ',' ',' ',' ','|',' ',' ',' ','|',' ',' ',' ',' ','|'},
                {'|',' ','|',' ',' ',' ',' ','|',' ',' ',' ',' ',' ',' ','|',' ',' ',' ','|',' ',' ',' ',' ','|'},
                {'|',' ','|',' ',' ',' ',' ','|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|',' ',' ',' ',' ','|'},
                {'|','$','|',' ',' ',' ',' ','|',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','|'},
                {'|','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','_','|'}
            };
            Random random = new Random();
            int userX = random.Next(1,18); 
            int userY = random.Next(1,23);

            Console.CursorVisible = false;

            while(true){

                for(int i = 0; i < map.GetLength(0); i++)
                {   
                    for(int j = 0; j < map.GetLength(1); j++)
                    {
                        Console.Write(map[i,j]);
                    }
                    Console.WriteLine();
                }

                Console.SetCursorPosition(userY,userX);
                Console.Write('@');
                ConsoleKeyInfo keyInfo = Console.ReadKey();
                switch(keyInfo.Key){
                    case  ConsoleKey.UpArrow:
                    if(map[userX - 1, userY] != '|' && map[userX - 1, userY] != '-' && map[userX - 1, userY] != '_')
                    {
                        userX--;
                    }
                    break;
                    case ConsoleKey.DownArrow:
                    if(map[userX + 1, userY] != '|' && map[userX + 1, userY] != '-' && map[userX + 1, userY] != '_')
                    {
                        userX++;
                    }
                    break;
                    case ConsoleKey.LeftArrow:
                    if(map[userX, userY - 1] != '|' && map[userX, userY - 1] != '-' && map[userX, userY - 1] != '_')
                    {
                        userY--;
                    }
                    break;
                    case ConsoleKey.RightArrow:
                    if(map[userX, userY + 1] != '|' && map[userX, userY + 1] != '-' && map[userX, userY + 1] != '-')
                    {
                        userY++;
                    }
                    break;
                }
                Console.ReadKey();
                Console.Clear();

            }
        }
    }
}